{
  "name": "Amazon CloudFront Web Logs",
  "description": null,
  "pages": [
    {
      "name": "Overview",
      "description": null,
      "widgets": [
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "## ![New Relic logo](https://newrelic.com/static-assets/images/icons/avatar-newrelic.png) Amazon CloudFront Overview     \n\n---\n\n\n\n![Add Images](https://d0.awsstatic.com/logos/powered-by-aws.png?canvas=1200:630&width=1200&height=430&fit=bounds&bg-color=FFFFFF)\n\n\n---\n#### [Amazon CloudFront](https://aws.amazon.com/cloudfront/) Collect & Analyze Web Access logs from your Amazon CloudFront Distribution.  \n* [cloudfront-web](https://docs.newrelic.com/docs/logs/forward-logs/cloudfront-web-logs/) = CloudFront Standard Logs (using S3 bucket + Lambda)\n* [cloudfront-rtl](https://docs.newrelic.com/docs/logs/forward-logs/cloudfront-web-logs/) = Cloudfront Real Time Logs (using Kinesis Data Stream)\n"
          }
        },
        {
          "title": "",
          "layout": {
            "column": 5,
            "row": 1,
            "width": 2,
            "height": 2
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT percentage(count (*), WHERE x_edge_result_type='Hit') AS 'Cache Hit Ratio' WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' AND (x_edge_result_type='Hit' OR x_edge_result_type='Miss') COMPARE with 1 hour ago\n"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "thresholds": [
              {
                "alertSeverity": "WARNING",
                "value": 0.9
              },
              {
                "alertSeverity": "CRITICAL",
                "value": 0.8
              }
            ]
          }
        },
        {
          "title": "",
          "layout": {
            "column": 7,
            "row": 1,
            "width": 2,
            "height": 2
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT percentage(count (*), WHERE numeric(sc_status) >= 200 and numeric(sc_status) < 400) AS 'Success Rate (2xx,3xx)' WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' compare with 1 hour ago\n"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "thresholds": [
              {
                "alertSeverity": "WARNING",
                "value": 0.9
              },
              {
                "alertSeverity": "CRITICAL",
                "value": 0.8
              }
            ]
          }
        },
        {
          "title": "",
          "layout": {
            "column": 9,
            "row": 1,
            "width": 2,
            "height": 2
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT percentage(count (*), WHERE numeric(sc_status) >= 400 and numeric(sc_status) <= 499) AS 'Error Rate (4xx)' WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' compare with 1 hour ago"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "thresholds": [
              {
                "alertSeverity": "CRITICAL",
                "value": 0.1
              },
              {
                "alertSeverity": "WARNING",
                "value": 0.05
              }
            ]
          }
        },
        {
          "title": "",
          "layout": {
            "column": 11,
            "row": 1,
            "width": 2,
            "height": 2
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT percentage(count (*), WHERE numeric(sc_status) >= 500 and numeric(sc_status) <= 599) AS 'Error Rate (5xx)' WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' compare with 1 hour ago"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "thresholds": [
              {
                "alertSeverity": "CRITICAL",
                "value": 0.1
              },
              {
                "alertSeverity": "WARNING",
                "value": 0.05
              }
            ]
          }
        },
        {
          "title": "Cache Hit/Miss (over time}",
          "layout": {
            "column": 5,
            "row": 3,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' AND (x_edge_result_type='Hit' OR x_edge_result_type='Miss') FACET x_edge_result_type TIMESERIES "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "HTTP Status code distribution",
          "layout": {
            "column": 9,
            "row": 3,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET sc_status AS 'Status'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Total Requests (by logtype)",
          "layout": {
            "column": 1,
            "row": 4,
            "width": 4,
            "height": 2
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) as 'Total Requests' WHERE logtype LIKE 'cloudfront-%' FACET logtype"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Total Requests (over time)",
          "layout": {
            "column": 1,
            "row": 6,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) as 'Total Requests' WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET logtype TIMESERIES "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Edge Response Result Type NOT Hit OR Miss",
          "layout": {
            "column": 5,
            "row": 6,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' AND x_edge_response_result_type!='Hit' AND x_edge_response_result_type!='Miss' FACET x_edge_response_result_type TIMESERIES "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Requests by Status Code (over time)",
          "layout": {
            "column": 9,
            "row": 6,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' facet sc_status TIMESERIES "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Total Bandwidth (over time)",
          "layout": {
            "column": 1,
            "row": 9,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT sum(numeric(sc_bytes)) as 'Content Bytes Served', sum(numeric(cs_bytes)) AS 'Client Bytes Sent' WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' TIMESERIES "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Edge Response Result Type",
          "layout": {
            "column": 5,
            "row": 9,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET x_edge_response_result_type  "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "HTTP Status Code Distribution (range)",
          "layout": {
            "column": 9,
            "row": 9,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*)   WHERE  logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' AND sc_status IS NOT NULL FACET cases(WHERE numeric(sc_status) >= 200 AND numeric(sc_status) < 300 as '2xx', WHERE numeric(sc_status) >= 300 AND numeric(sc_status) < 400 as '3xx', WHERE numeric(sc_status) >= 400  AND numeric(sc_status)<500 as '4xx', WHERE numeric(sc_status)>499 AND numeric(sc_status)<600 as '5xx') SINCE 1 hour ago"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Latest Logs",
          "layout": {
            "column": 1,
            "row": 12,
            "width": 12,
            "height": 6
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "logger.log-table-widget"
          },
          "rawConfiguration": {
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT c_ip AS 'Client IP', cs_method AS 'Method', sc_status AS 'Status', cs_uri_stem AS 'URI', x_edge_location AS 'Edge Location', c_country AS 'Country', x_edge_result_type AS 'Edge Result', x_edge_response_result_type AS 'Edge Response', sc_content_type AS 'Content Type', sc_bytes AS Bytes, time_to_first_byte AS 'Time to First Byte'   WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%'"
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Client Information",
      "description": null,
      "widgets": [
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "## ![New Relic logo](https://newrelic.com/static-assets/images/icons/avatar-newrelic.png) Amazon CloudFront Client Information\n\n---\n\n\n\n![Add Images](https://d0.awsstatic.com/logos/powered-by-aws.png?canvas=1200:630&width=1200&height=430&fit=bounds&bg-color=FFFFFF)\n\n\n---"
          }
        },
        {
          "title": "Requests by Edge Location",
          "layout": {
            "column": 5,
            "row": 1,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET x_edge_location"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Requests By Client IP",
          "layout": {
            "column": 9,
            "row": 1,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "  SELECT count(*)  FROM Log WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET c_ip as 'Client IP'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Requests by Client Country Code",
          "layout": {
            "column": 1,
            "row": 4,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET c_country"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Requests by Edge Location (over time)",
          "layout": {
            "column": 5,
            "row": 4,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET x_edge_location TIMESERIES "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Requests By Client IP (over time)",
          "layout": {
            "column": 9,
            "row": 4,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "  SELECT count(*)  FROM Log WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET c_ip as 'Client IP' TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Top 10 URI by Status Code (2xx,3xx)",
          "layout": {
            "column": 1,
            "row": 7,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND numeric(sc_status)>199 AND numeric(sc_status)<400 AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET sc_status AS 'Status', cs_uri_stem AS 'URI' LIMIT 10"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Top 10 URI by Status Code (4xx,5xx)",
          "layout": {
            "column": 5,
            "row": 7,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND numeric(sc_status)>399 AND numeric(sc_status)<600 AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET sc_status AS 'Status', cs_uri_stem AS 'URI' LIMIT 10"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Top 10 URI by Cache Miss",
          "layout": {
            "column": 9,
            "row": 7,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE x_edge_result_type='Miss' AND logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET x_edge_result_type AS 'Result Type', cs_uri_stem AS 'URI'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "URI by Status Code (2xx,3xx) (over time)",
          "layout": {
            "column": 1,
            "row": 10,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND numeric(sc_status)>199 AND numeric(sc_status)<400 AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET sc_status AS 'Status', cs_uri_stem AS 'URI' TIMESERIES since 1 hour ago"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "URI by Status Code (4xx,5xx) (over time)",
          "layout": {
            "column": 5,
            "row": 10,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND numeric(sc_status)>399 AND numeric(sc_status)<600 AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET sc_status AS 'Status', cs_uri_stem AS 'URI' TIMESERIES SINCE 1 hour ago"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "URI by Cache Miss (over time)",
          "layout": {
            "column": 9,
            "row": 10,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE x_edge_result_type='Miss' AND logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET cs_uri_stem AS 'URI' TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Total Requests by Client Port",
          "layout": {
            "column": 1,
            "row": 13,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET  c_port AS 'Client Port'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Total Requests by HTTP Protocol/Version",
          "layout": {
            "column": 4,
            "row": 13,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET  cs_protocol, cs_protocol_version"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Total Requests by HTTP Method",
          "layout": {
            "column": 7,
            "row": 13,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET  cs_method"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Total Requests by Content Type",
          "layout": {
            "column": 10,
            "row": 13,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET  sc_content_type since 1 hour ago"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Total Requests by Referer",
          "layout": {
            "column": 1,
            "row": 16,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET  cs_referer AS 'Referer'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Total Requests by User Agent",
          "layout": {
            "column": 5,
            "row": 16,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET cs_user_agent AS 'User Agent'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        }
      ]
    },
    {
      "name": "Performance",
      "description": null,
      "widgets": [
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "## ![New Relic logo](https://newrelic.com/static-assets/images/icons/avatar-newrelic.png) Amazon CloudFront Performance\n\n---\n\n\n\n![Add Images](https://d0.awsstatic.com/logos/powered-by-aws.png?canvas=1200:630&width=1200&height=430&fit=bounds&bg-color=FFFFFF)\n\n\n---"
          }
        },
        {
          "title": "Time Taken to Serve Response",
          "layout": {
            "column": 5,
            "row": 1,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.stacked-bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET cases(WHERE numeric(time_taken) <= 10 as '<10ms',WHERE numeric(time_taken) > 10 and numeric(time_taken) <= 50 as '10-50ms',WHERE numeric(time_taken) >50 as '>50ms') TIMESERIES "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Time Taken (Avg/90th)",
          "layout": {
            "column": 9,
            "row": 1,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log   SELECT average(numeric(time_taken)) AS 'Average', percentile(numeric(time_taken ),90) AS 'Percentile' WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%'  TIMESERIES "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Time Taken by Edge Location (Avg/90th)",
          "layout": {
            "column": 1,
            "row": 4,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log   SELECT average(numeric(time_taken)) AS 'Average', percentile(numeric(time_taken),90) AS 'Percentile' WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%'  FACET x_edge_location TIMESERIES LIMIT MAX"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Time to First Byte",
          "layout": {
            "column": 5,
            "row": 4,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.stacked-bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET cases(WHERE numeric(time_to_first_byte) <= 10 as '<10ms',WHERE numeric(time_to_first_byte) > 10 and numeric(time_to_first_byte) <= 50 as '10-50ms',WHERE numeric(time_to_first_byte) >50 as '>50ms') TIMESERIES "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Time to First Byte (Avg/90th)",
          "layout": {
            "column": 9,
            "row": 4,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log   SELECT average(numeric(time_to_first_byte)) AS 'Average', percentile(numeric(time_to_first_byte),90) AS 'Percentile' WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' TIMESERIES "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Time Taken by URI (Avg/90th)",
          "layout": {
            "column": 1,
            "row": 7,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log   SELECT average(numeric(time_taken)) AS 'Average', percentile(numeric(time_taken),90) AS 'Percentile' WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%'  FACET cs_uri_stem TIMESERIES LIMIT MAX"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Time Taken by TLS Vesion (Avg/90th)",
          "layout": {
            "column": 5,
            "row": 7,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log   SELECT average(numeric(time_taken)) AS 'Average', percentile(numeric(time_taken),90) AS 'Percentile' WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%'  FACET ssl_protocol TIMESERIES LIMIT MAX since 1 hour ago"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Time Taken by Response Code (Avg/90th)",
          "layout": {
            "column": 9,
            "row": 7,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log   SELECT average(numeric(time_taken)) AS 'Average', percentile(numeric(time_taken),90) AS 'Percentile' WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%'  FACET sc_status TIMESERIES LIMIT MAX"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Time Taken by URI (Avg/90th)",
          "layout": {
            "column": 1,
            "row": 10,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log   SELECT average(numeric(time_taken)) AS 'Average', percentile(numeric(time_taken ),90) AS 'Percentile' WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%'  FACET cs_uri_stem AS 'URI' LIMIT 10"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "TLS Versions and Cipher",
          "layout": {
            "column": 5,
            "row": 10,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log SELECT count(*) WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%' FACET ssl_protocol AS 'SSL Protocol', ssl_cipher AS 'SSL Cipher'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Time Taken by Status/URI (Avg/90th)",
          "layout": {
            "column": 9,
            "row": 10,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 0,
                "query": "FROM Log   SELECT average(numeric(time_taken)) AS 'Average', percentile(numeric(time_taken ),90) AS 'Percentile' WHERE logtype LIKE 'cloudfront-%' AND message NOT LIKE '%#Fields%' AND message NOT LIKE '%#Version%'  FACET sc_status AS 'Status', cs_uri_stem AS 'URI' LIMIT 10"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        }
      ]
    }
  ],
  "variables": []
}