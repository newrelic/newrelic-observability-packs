# Sets the URL name of the quickstart on public I/O (required)
slug: ext-ambassador

# Displayed in the UI (required)
title: Ambassador

# Long-form description of the quickstart (required)
description: |
  The Ambassador quickstart allows you to get visibility into the performance and available of your ambassador service and dependencies. Use this quickstart together with the mock up integrations.
  ## Ambassador quickstart highlights
  The New Relic quickstart uses dashboards to proactively monitor your Ambassador services, like:
  - number of Registered Services
  - the rate of Downstream Connections Length
  - the average of Active Connections
  
  ## Monitoring Ambassador
  This quickstart utilizes New Relic's ability to ingest Prometheus data (either from our OpenMetrics integration or via Prometheus remote write). See instructions for [sending Prometheus data to New Relic here](https://docs.newrelic.com/docs/infrastructure/prometheus-integrations/get-started/send-prometheus-metric-data-new-relic/).
  ### How do I configure my integration to scrape Ambassador services metrics?
  The approach to getting your Prometheus metrics into New Relic differs depending on which integration you use.
  #### Prometheus Remote Write
  In addition to setting up your `remote_write` configuration as described [here](https://docs.newrelic.com/docs/infrastructure/prometheus-integrations/install-configure-remote-write/set-your-prometheus-remote-write-integration/), you will have three options to add the ambassador metrics to your prometheus:
  
    1- If you already have a prometheus running internally on your kubernetes cluster, you can add this endpoint to your prometheus
  
    ```
    - job_name: "ambassador"

      \# metrics_path defaults to '/metrics'
      \# scheme defaults to 'http'.

      static_configs:
        - targets: 
          - ambassador:8877
    ```

    2- You can also get the metrics externally creating a service mapping to export the ambassador metrics and then repeat the step 1:
    ```
    ---
    apiVersion: getambassador.io/v3alpha1
    kind: Mapping
    metadata:
      name: metrics
    spec:
      hostname: "*"
      prefix: /metrics
      rewrite: ""
      service: localhost:8877

    ```

    3- As a thrid option you can also create a Prometheus Operator to deploy a prometheus instance that will capture the metrics, to do that, you can follow these steps [here](https://www.getambassador.io/docs/edge-stack/latest/howtos/prometheus/#prometheus-operator-with-standard-yaml)

  (You can find a completed version of how to integration Ambassador with Prometheus on this link: [Ambassador Monitoring with Prometheus](https://www.getambassador.io/docs/edge-stack/latest/howtos/prometheus/#monitoring-with-prometheus-and-grafana))
  Then, after reloading Prometheus config, you can check that your Ambassador metrics are appearing under your [Prometheus targets](https://prometheus.io/docs/prometheus/latest/querying/api/#targets).
# Displayed in search results and recommendations. Summarizes a quickstarts functionality.
summary: |
  The Ambassador quickstart allows you to get visibility into the performance of your services.
# Support level: New Relic | Verified | Community (required)
level: Community

# Authors of the quickstart (required)
authors:
  - Iara Silva @Kinect-Consulting
  - Irvin Arias @Kinect-Consulting
  - Omar Castillo @Kinect-Consulting

# Keywords for filtering / searching criteria in the UI
keywords:
  - Ambassador
  - Envoy Proxy
  - Prometheus
  - remote-write

documentation:
  - name: Ambassador installation docs
    description: |
      The Ambassador quickstart allows you to get visibility into the performance of your instances.
    url: >-
      https://www.getambassador.io/docs/edge-stack/latest/howtos/prometheus/#monitoring-with-prometheus-and-grafana
installPlans:
  - third-party-ext-ambassador
# Allows us to construct reusable "install plans" and just use their ID in the quickstart config
alertPolicies:
  - ext-ambassador
dashboards:
  - ext-ambassador
# Content / Design
icon: logo.png
website: https://www.getambassador.io/
