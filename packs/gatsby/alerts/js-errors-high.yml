name: Page Views with JS Errors (High)

details: |+
  A high number of page views with Javscript errors in a
  specified duration.

# Some settings derived from:
# https://registry.terraform.io/providers/newrelic/newrelic/latest/docs/resources/alert_condition

type: browser_metric
metric: page_views_with_js_errors

terms:
  # above 10% for 15 minutes
  - priority: WARNING
    threshold: 10
    thresholdDuration: 900
    thresholdOccurrences: AT_LEAST_ONCE
    operator: above

  # above 25% for 15 minutes
  - priority: CRITICAL
    threshold: 25
    thresholdDuration: 900
    thresholdOccurrences: AT_LEAST_ONCE
    operator: above
